import{r as se,i as re,b as T,o as oe,t as le,n as ue,p as ce,c as L,s as N,d as fe}from"./proxy-DOWuyJr3.js";import{m as me,f as A,g as de,b as he,d as I,W as q,e as pe,h as H,j as z,s as g,n as G,k as ye,l as ge,o as Te,r as Ae,J as D,p as we,t as E}from"./JSAnimation-DcfD0aQm.js";function R(e,t,n){const a=e.getProps();return se(a,t,n!==void 0?n:a.custom,e)}const Se=e=>Array.isArray(e);function be(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,me(n))}function Ve(e){return Se(e)?e[e.length-1]||0:e}function Me(e,t){const n=R(e,t);let{transitionEnd:a={},transition:s={},...r}=n||{};r={...r,...a};for(const l in r){const o=Ve(r[l]);be(e,l,o)}}function Ce(e){return!!(re(e)&&e.add)}function xe(e,t){const n=e.getValue("willChange");if(Ce(n))return n.add(t);if(!n&&T.WillChange){const a=new T.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function Ke(e){return e.props[oe]}const Oe=e=>e!==null;function Pe(e,{repeat:t,repeatType:n="loop"},a){const s=e.filter(Oe),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[r]}const Fe={type:"spring",stiffness:500,damping:25,restSpeed:10},De=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Re={type:"keyframes",duration:.8},We={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_e=(e,{keyframes:t})=>t.length>2?Re:le.has(e)?e.startsWith("scale")?De(t[1]):Fe:We;function ke({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:r,repeatType:l,repeatDelay:o,from:c,elapsed:u,...i}){return!!Object.keys(i).length}function Z(e,t){return e?.[t]??e?.default??e}function Ne(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const h=e=>e*180/Math.PI,M=e=>{const t=h(Math.atan2(e[1],e[0]));return C(t)},Ie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:M,rotateZ:M,skewX:e=>h(Math.atan(e[1])),skewY:e=>h(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},C=e=>(e=e%360,e<0&&(e+=360),e),Y=M,B=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),X=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ze={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B,scaleY:X,scale:e=>(B(e)+X(e))/2,rotateX:e=>C(h(Math.atan2(e[6],e[5]))),rotateY:e=>C(h(Math.atan2(-e[2],e[0]))),rotateZ:Y,rotate:Y,skewX:e=>h(Math.atan(e[4])),skewY:e=>h(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function U(e){return e.includes("scale")?1:0}function x(e,t){if(!e||e==="none")return U(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(n)a=ze,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Ie,s=o}if(!s)return U(t);const r=a[t],l=s[1].split(",").map(Ee);return typeof r=="function"?r(l):l[r]}const yt=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return x(n,t)};function Ee(e){return parseFloat(e.trim())}const gt=e=>e===ue||e===ce,Ye=new Set(["x","y","z"]),Be=L.filter(e=>!Ye.has(e));function Xe(e){const t=[];return Be.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const V={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>x(t,"x"),y:(e,{transform:t})=>x(t,"y")};V.translateX=V.x;V.translateY=V.y;const p=new Set;let K=!1,O=!1,P=!1;function J(){if(O){const e=Array.from(p).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const s=Xe(a);s.length&&(n.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([r,l])=>{a.getValue(r)?.set(l)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}O=!1,K=!1,p.forEach(e=>e.complete(P)),p.clear()}function Q(){p.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(O=!0)})}function Ue(){P=!0,Q(),J(),P=!1}class $e{constructor(t,n,a,s,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=s,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(p.add(this),K||(K=!0,A.read(Q),A.resolveKeyframes(J))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:s}=this;if(t[0]===null){const r=s?.get(),l=t[t.length-1];if(r!==void 0)t[0]=r;else if(a&&n){const o=a.readValue(n,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),s&&r===void 0&&s.set(t[0])}Ne(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),p.delete(this)}cancel(){this.state==="scheduled"&&(p.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ve=e=>e.startsWith("--");function je(e,t,n){ve(t)?e.style.setProperty(t,n):e.style[t]=n}function W(e){let t;return()=>(t===void 0&&(t=e()),t)}const Le=W(()=>window.ScrollTimeline!==void 0),qe={};function He(e,t){const n=W(e);return()=>qe[t]??n()}const ee=He(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),y=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:y([0,.65,.55,1]),circOut:y([.55,0,1,.45]),backIn:y([.31,.01,.66,-.59]),backOut:y([.33,1.53,.69,.99])};function te(e,t){if(e)return typeof e=="function"?ee()?de(e,t):"ease-out":he(e)?y(e):Array.isArray(e)?e.map(n=>te(n,t)||$.easeOut):$[e]}function Ge(e,t,n,{delay:a=0,duration:s=300,repeat:r=0,repeatType:l="loop",ease:o="easeOut",times:c}={},u=void 0){const i={[t]:n};c&&(i.offset=c);const m=te(o,s);Array.isArray(m)&&(i.easing=m),N.value&&I.waapi++;const f={delay:a,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};u&&(f.pseudoElement=u);const d=e.animate(i,f);return N.value&&d.finished.finally(()=>{I.waapi--}),d}function ne(e){return typeof e=="function"&&"applyToOptions"in e}function Ze({type:e,...t}){return ne(e)&&ee()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Je extends q{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:s,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=t,pe(typeof t.type!="string");const u=Ze(t);this.animation=Ge(n,a,s,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const i=H(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(i):je(n,a,i),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return z(Number(t))}get time(){return z(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=g(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Le()?(this.animation.timeline=t,G):n(this)}}const ae={anticipate:Te,backInOut:ge,circInOut:ye};function Qe(e){return e in ae}function et(e){typeof e.ease=="string"&&Qe(e.ease)&&(e.ease=ae[e.ease])}const v=10;class tt extends Je{constructor(t){et(t),Ae(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:s,element:r,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new D({...l,autoplay:!1}),c=g(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-v).value,o.sample(c).value,v),o.stop()}}const j=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(we.test(e)||e==="0")&&!e.startsWith("url("));function nt(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function at(e,t,n,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],l=j(s,t),o=j(r,t);return!l||!o?!1:nt(e)||(n==="spring"||ne(n))&&a}const it=new Set(["opacity","clipPath","filter","transform"]),st=W(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rt(e){const{motionValue:t,name:n,repeatDelay:a,repeatType:s,damping:r,type:l}=e;if(!fe(t?.owner?.current))return!1;const{onUpdate:o,transformTemplate:c}=t.owner.getProps();return st()&&n&&it.has(n)&&(n!=="transform"||!c)&&!o&&!a&&s!=="mirror"&&r!==0&&l!=="inertia"}const ot=40;class lt extends q{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:l="loop",keyframes:o,name:c,motionValue:u,element:i,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=E.now();const f={autoplay:t,delay:n,type:a,repeat:s,repeatDelay:r,repeatType:l,name:c,motionValue:u,element:i,...m},d=i?.KeyframeResolver||$e;this.keyframeResolver=new d(o,(w,S,b)=>this.onKeyframesResolved(w,S,f,!b),c,u,i),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,a,s){this.keyframeResolver=void 0;const{name:r,type:l,velocity:o,delay:c,isHandoff:u,onUpdate:i}=a;this.resolvedAt=E.now(),at(t,r,l,o)||((T.instantAnimations||!c)&&i?.(H(t,a,n)),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>ot?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},d=!u&&rt(f)?new tt({...f,element:f.motionValue.owner.current}):new D(f);d.finished.then(()=>this.notifyFinished()).catch(G),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ue()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ut=(e,t,n,a={},s,r)=>l=>{const o=Z(a,e)||{},c=o.delay||a.delay||0;let{elapsed:u=0}=a;u=u-g(c);const i={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:s};ke(o)||Object.assign(i,_e(e,i)),i.duration&&(i.duration=g(i.duration)),i.repeatDelay&&(i.repeatDelay=g(i.repeatDelay)),i.from!==void 0&&(i.keyframes[0]=i.from);let m=!1;if((i.type===!1||i.duration===0&&!i.repeatDelay)&&(i.duration=0,i.delay===0&&(m=!0)),(T.instantAnimations||T.skipAnimations)&&(m=!0,i.duration=0,i.delay=0),i.allowFlatten=!o.type&&!o.ease,m&&!r&&t.get()!==void 0){const f=Pe(i.keyframes,o);if(f!==void 0){A.update(()=>{i.onUpdate(f),i.onComplete()});return}}return o.isSync?new D(i):new lt(i)},ct=new Set(["width","height","top","left","right","bottom",...L]);function ft({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function ie(e,t,{delay:n=0,transitionOverride:a,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:l,...o}=t;a&&(r=a);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const i in o){const m=e.getValue(i,e.latestValues[i]??null),f=o[i];if(f===void 0||u&&ft(u,i))continue;const d={delay:n,...Z(r||{},i)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(f)&&f===w&&!d.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=Ke(e);if(_){const k=window.MotionHandoffAnimation(_,i,A);k!==null&&(d.startTime=k,S=!0)}}xe(e,i),m.start(ut(i,m,f,e.shouldReduceMotion&&ct.has(i)?{type:!1}:d,e,S));const b=m.animation;b&&c.push(b)}return l&&Promise.all(c).then(()=>{A.update(()=>{l&&Me(e,l)})}),c}function F(e,t,n={}){const a=R(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const r=a?()=>Promise.all(ie(e,a,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:i,staggerDirection:m}=s;return mt(e,t,u+c,i,m,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,u]=o==="beforeChildren"?[r,l]:[l,r];return c().then(()=>u())}else return Promise.all([r(),l(n.delay)])}function mt(e,t,n=0,a=0,s=1,r){const l=[],o=(e.variantChildren.size-1)*a,c=s===1?(u=0)=>u*a:(u=0)=>o-u*a;return Array.from(e.variantChildren).sort(dt).forEach((u,i)=>{u.notify("AnimationStart",t),l.push(F(u,t,{...r,delay:n+c(i)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(l)}function dt(e,t){return e.sortNodePosition(t)}function Tt(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(r=>F(e,r,n));a=Promise.all(s)}else if(typeof t=="string")a=F(e,t,n);else{const s=typeof t=="function"?R(e,t,n.custom):t;a=Promise.all(ie(e,s,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}export{lt as A,y as B,rt as C,x as D,je as E,qe as F,$e as K,Je as N,Tt as a,xe as b,ut as c,Ke as d,gt as e,V as f,Z as g,U as h,Se as i,yt as j,Le as k,ne as l,ie as m,ve as n,Ne as o,ct as p,Ge as q,R as r,Me as s,ee as t,$ as u,W as v,Ze as w,te as x,tt as y,Ue as z};
